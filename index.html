<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Shield - Classified Training Files</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modules.css">
    <style>
        /* QUICK FIXES FOR LANDING PAGE - SAME AS MODULES */
        
        /* Fix all text sizes */
        .classification-level {
            font-size: 1rem !important;
        }
        
        .classified-header h1 {
            font-size: 2rem !important;
        }
        
        .terminal-prompt, .agent-name, .clearance-level {
            font-size: 1rem !important;
        }
        
        .progress-label, .progress-value {
            font-size: 1rem !important;
        }
        
        .cabinet-header h2 {
            font-size: 1.8rem !important;
        }
        
        .access-notice {
            font-size: 1rem !important;
        }
        
        .drawer-label {
            font-size: 1.2rem !important;
        }
        
        /* Fix file folder content */
        .file-details h3 {
            font-size: 1.2rem !important;
        }
        
        .file-subtitle {
            font-size: 1rem !important;
        }
        
        .file-description {
            font-size: 1rem !important;
        }
        
        .file-metadata {
            font-size: 0.9rem !important;
        }
        
        .file-number {
            font-size: 0.9rem !important;
        }
        
        .classification-stamp {
            font-size: 0.8rem !important;
        }
        
        .status-badge {
            font-size: 0.8rem !important;
        }
        
        .file-btn {
            font-size: 1rem !important;
            padding: 10px 20px !important;
        }
        
        /* Fix special operations section */
        .special-details h2 {
            font-size: 1.6rem !important;
        }
        
        .special-subtitle {
            font-size: 1rem !important;
        }
        
        .special-description {
            font-size: 1rem !important;
        }
        
        .clearance-requirements h4 {
            font-size: 1.2rem !important;
        }
        
        .req-text {
            font-size: 1rem !important;
        }
        
        .special-btn {
            font-size: 1.1rem !important;
            padding: 15px 30px !important;
        }
        
        /* Fix footer */
        .terminal-status span {
            font-size: 0.9rem !important;
        }
        
        .system-status {
            font-size: 0.9rem !important;
        }
        
        /* Fix admin panel */
        .admin-terminal h3 {
            font-size: 1.2rem !important;
        }
        
        .cmd-btn {
            font-size: 0.9rem !important;
            padding: 8px 12px !important;
        }
        
        .terminal-title {
            font-size: 1.1rem !important;
        }
        
        /* Fix file icons */
        .file-icon {
            font-size: 2.5rem !important;
        }
        
        .special-icon {
            font-size: 3rem !important;
        }
        
        /* Ensure containers are properly sized */
        .file-folder {
            min-height: auto !important;
        }
        
        .folder-content {
            padding: 20px !important;
        }
        
        .special-content {
            padding: 30px !important;
        }
        
        /* Fix responsive layout */
        @media (max-width: 768px) {
            .classified-header h1 {
                font-size: 1.5rem !important;
            }
            
            .cabinet-header h2 {
                font-size: 1.4rem !important;
            }
            
            .file-details h3 {
                font-size: 1.1rem !important;
            }
            
            .special-details h2 {
                font-size: 1.3rem !important;
            }
        }
    </style>
</head>
<body class="file-system-page">
    <!-- Header Section -->
    <header class="classified-header">
        <div class="container">
            <div class="classification-banner">
                <span class="classification-level">CLASSIFIED</span>
                <h1>DIGITAL SHIELD TRAINING ARCHIVE</h1>
                <span class="classification-level">HILLTOP HONEY LTD</span>
            </div>
            <div class="agent-terminal">
                <div class="terminal-info">
                    <span class="terminal-prompt">AGENT:</span>
                    <span class="agent-name" id="agent-name">[CLASSIFIED]</span>
                    <span class="clearance-level">TRAINEE CLEARANCE</span>
                </div>
                <div class="progress-display">
                    <span class="progress-label">TRAINING PROGRESS:</span>
                    <span class="progress-value" id="overall-progress">0%</span>
                </div>
            </div>
        </div>
    </header>

    <!-- File Cabinet Section -->
    <section class="file-cabinet">
        <div class="container">
            <div class="cabinet-header">
                <h2>üìÅ TRAINING DOSSIERS</h2>
                <p class="access-notice">‚ö†Ô∏è ACCESS RESTRICTED TO AUTHORIZED PERSONNEL ONLY</p>
            </div>

            <div class="file-cabinet-grid">
                <div class="filing-drawer">
                    <div class="drawer-label">CYBERSECURITY PROTOCOLS</div>
                    <div class="file-folders">
                        
                        <!-- File 1: Email Security -->
                        <div class="file-folder" data-module="1" id="file-1">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">001</span>
                                    <span class="classification-stamp">CONFIDENTIAL</span>
                                </div>
                                <div class="status-indicator" id="status-1">
                                    <span class="status-badge new">NEW</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon">üìß</div>
                                <div class="file-details">
                                    <h3>EMAIL SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Interceptor</p>
                                    <p class="file-description">Classification of email-based threats and defensive countermeasures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 15 min</span>
                                        <span class="difficulty">üîí LEVEL 3</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="file-btn" onclick="openFile(1)" id="btn-1">
                                    OPEN FILE
                                </button>
                            </div>
                        </div>

                        <!-- File 2: Password Security -->
                        <div class="file-folder locked" data-module="2" id="file-2">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">002</span>
                                    <span class="classification-stamp">RESTRICTED</span>
                                </div>
                                <div class="status-indicator" id="status-2">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon">üîê</div>
                                <div class="file-details">
                                    <h3>PASSWORD SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Vault Guardian</p>
                                    <p class="file-description">Advanced authentication and credential protection systems.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 12 min</span>
                                        <span class="difficulty">üîí LEVEL 2</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="file-btn" onclick="openFile(2)" id="btn-2" disabled>
                                    CLEARANCE REQUIRED
                                </button>
                            </div>
                        </div>

                        <!-- File 3: Internet Security -->
                        <div class="file-folder locked" data-module="3" id="file-3">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">003</span>
                                    <span class="classification-stamp">RESTRICTED</span>
                                </div>
                                <div class="status-indicator" id="status-3">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon">üåê</div>
                                <div class="file-details">
                                    <h3>INTERNET SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Navigator</p>
                                    <p class="file-description">Secure browsing and network protection procedures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 18 min</span>
                                        <span class="difficulty">üîí LEVEL 3</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="file-btn" onclick="openFile(3)" id="btn-3" disabled>
                                    CLEARANCE REQUIRED
                                </button>
                            </div>
                        </div>

                        <!-- File 4: Physical Security -->
                        <div class="file-folder locked" data-module="4" id="file-4">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">004</span>
                                    <span class="classification-stamp">CONFIDENTIAL</span>
                                </div>
                                <div class="status-indicator" id="status-4">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon">üè¢</div>
                                <div class="file-details">
                                    <h3>PHYSICAL SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Safehouse</p>
                                    <p class="file-description">Workspace security and information protection measures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 10 min</span>
                                        <span class="difficulty">üîí LEVEL 2</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="file-btn" onclick="openFile(4)" id="btn-4" disabled>
                                    CLEARANCE REQUIRED
                                </button>
                            </div>
                        </div>

                        <!-- File 5: GDPR -->
                        <div class="file-folder locked" data-module="5" id="file-5">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">005</span>
                                    <span class="classification-stamp">TOP SECRET</span>
                                </div>
                                <div class="status-indicator" id="status-5">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon">üìã</div>
                                <div class="file-details">
                                    <h3>DATA PROTECTION PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Classified Intel</p>
                                    <p class="file-description">GDPR compliance and personal data safeguarding procedures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 20 min</span>
                                        <span class="difficulty">üîí LEVEL 4</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="file-btn" onclick="openFile(5)" id="btn-5" disabled>
                                    CLEARANCE REQUIRED
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Special Operations File (Final Assessment) -->
    <section class="special-operations">
        <div class="container">
            <div class="special-file-container">
                <div class="special-file locked" id="final-assessment-file">
                    <div class="special-header">
                        <div class="classification-stripe">
                            <span class="class-label">EYES ONLY</span>
                            <span class="class-label">FINAL ASSESSMENT</span>
                            <span class="class-label">OPERATION: DIGITAL SHIELD</span>
                        </div>
                    </div>
                    <div class="special-content">
                        <div class="special-icon">üéØ</div>
                        <div class="special-details">
                            <h2>FINAL FIELD ASSESSMENT</h2>
                            <p class="special-subtitle">Comprehensive Security Evaluation</p>
                            <p class="special-description">Classified field simulation testing all acquired cybersecurity protocols. Access granted only upon completion of all training dossiers.</p>
                            
                            <div class="clearance-requirements">
                                <h4>üìã CLEARANCE REQUIREMENTS</h4>
                                <div class="requirements-list" id="clearance-requirements">
                                    <div class="requirement incomplete" data-module="1">
                                        <span class="req-status">‚ùå</span>
                                        <span class="req-text">Complete Email Security Training</span>
                                    </div>
                                    <div class="requirement incomplete" data-module="2">
                                        <span class="req-status">‚ùå</span>
                                        <span class="req-text">Complete Password Security Training</span>
                                    </div>
                                    <div class="requirement incomplete" data-module="3">
                                        <span class="req-status">‚ùå</span>
                                        <span class="req-text">Complete Internet Security Training</span>
                                    </div>
                                    <div class="requirement incomplete" data-module="4">
                                        <span class="req-status">‚ùå</span>
                                        <span class="req-text">Complete Physical Security Training</span>
                                    </div>
                                    <div class="requirement incomplete" data-module="5">
                                        <span class="req-status">‚ùå</span>
                                        <span class="req-text">Complete Data Protection Training</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="special-actions">
                        <button class="special-btn" onclick="openFinalAssessment()" id="final-btn" disabled>
                            üîí ACCESS DENIED
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Terminal Status Bar -->
    <footer class="terminal-footer">
        <div class="container">
            <div class="terminal-status">
                <div class="status-left">
                    <span class="terminal-prompt">SYSTEM STATUS:</span>
                    <span class="system-status online">ONLINE</span>
                    <span class="session-info">SESSION: <span id="session-time">00:00:00</span></span>
                </div>
                <div class="status-center">
                    <span class="files-accessed">FILES ACCESSED: <span id="files-completed">0</span>/5</span>
                    <span class="security-level">SECURITY LEVEL: TRAINEE</span>
                </div>
                <div class="status-right">
                    <button onclick="toggleAdminPanel()" class="admin-access" title="System Administration">üîß</button>
                    <span class="timestamp" id="current-timestamp"></span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Admin Testing Panel (Hidden by default) -->
    <section class="admin-panel hidden" id="admin-panel">
        <div class="container">
            <div class="admin-terminal">
                <div class="terminal-header">
                    <span class="terminal-title">SYSTEM ADMINISTRATION CONSOLE</span>
                    <button onclick="toggleAdminPanel()" class="terminal-close">√ó</button>
                </div>
                <div class="terminal-body">
                    <div class="admin-commands">
                        <h3>TESTING COMMANDS:</h3>
                        <div class="command-buttons">
                            <button onclick="resetAllProgress()" class="cmd-btn danger">RESET_ALL_PROGRESS</button>
                            <button onclick="completeModule(1)" class="cmd-btn">COMPLETE_FILE_001</button>
                            <button onclick="completeModule(2)" class="cmd-btn">COMPLETE_FILE_002</button>
                            <button onclick="completeModule(3)" class="cmd-btn">COMPLETE_FILE_003</button>
                            <button onclick="completeModule(4)" class="cmd-btn">COMPLETE_FILE_004</button>
                            <button onclick="completeModule(5)" class="cmd-btn">COMPLETE_FILE_005</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="js/progress.js"></script>
    <script src="js/navigation.js"></script>
    <script>
        // File system specific functions
        function openFile(moduleNumber) {
            if (window.digitalShieldProgress && window.digitalShieldProgress.isModuleUnlocked(moduleNumber)) {
                window.location.href = `module${moduleNumber}.html`;
            } else {
                showAccessDenied();
            }
        }

        function openFinalAssessment() {
            if (window.digitalShieldProgress && window.digitalShieldProgress.getProgressStats().completedModules === 5) {
                window.location.href = 'final-assessment.html';
            } else {
                showAccessDenied();
            }
        }

        function showAccessDenied() {
            alert('üîí ACCESS DENIED\n\nClearance level insufficient. Complete prerequisite training files to gain access.');
        }

        // Admin testing functions
        function toggleAdminPanel() {
            const panel = document.getElementById('admin-panel');
            if (panel) {
                panel.classList.toggle('hidden');
            }
        }

        function resetAllProgress() {
            if (confirm('‚ö†Ô∏è WARNING: This will reset ALL training progress. Are you sure?')) {
                if (window.digitalShieldProgress) {
                    window.digitalShieldProgress.resetProgress();
                    updateProgressDisplay();
                    alert('‚úÖ All progress has been reset.');
                }
            }
        }

        function completeModule(moduleNumber) {
            if (window.digitalShieldProgress) {
                window.digitalShieldProgress.completeModule(moduleNumber, 100);
                updateProgressDisplay();
                alert(`‚úÖ Module ${moduleNumber} marked as complete.`);
            }
        }

        // Session timer
        let sessionStartTime = Date.now();
        function updateSessionTimer() {
            const elapsed = Date.now() - sessionStartTime;
            const hours = Math.floor(elapsed / 3600000);
            const minutes = Math.floor((elapsed % 3600000) / 60000);
            const seconds = Math.floor((elapsed % 60000) / 1000);
            
            const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            const sessionElement = document.getElementById('session-time');
            if (sessionElement) {
                sessionElement.textContent = timeString;
            }
        }

        // Update timestamp
        function updateTimestamp() {
            const now = new Date();
            const timestamp = now.toLocaleString('en-GB', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            const timestampElement = document.getElementById('current-timestamp');
            if (timestampElement) {
                timestampElement.textContent = timestamp;
            }
        }

        // Update progress display
        function updateProgressDisplay() {
            if (!window.digitalShieldProgress) {
                console.log('Digital Shield Progress not loaded yet');
                return;
            }

            const stats = window.digitalShieldProgress.getProgressStats();
            
            // Update overall progress
            const overallProgressElement = document.getElementById('overall-progress');
            if (overallProgressElement) {
                overallProgressElement.textContent = `${stats.overallProgress}%`;
            }

            // Update files completed
            const filesCompletedElement = document.getElementById('files-completed');
            if (filesCompletedElement) {
                filesCompletedElement.textContent = stats.completedModules;
            }

            // Update individual module status
            for (let i = 1; i <= 5; i++) {
                const fileElement = document.getElementById(`file-${i}`);
                const statusElement = document.getElementById(`status-${i}`);
                const btnElement = document.getElementById(`btn-${i}`);
                
                if (fileElement && statusElement && btnElement) {
                    const isCompleted = window.digitalShieldProgress.isModuleCompleted(i);
                    const isUnlocked = window.digitalShieldProgress.isModuleUnlocked(i);
                    
                    if (isCompleted) {
                        fileElement.classList.remove('locked');
                        statusElement.innerHTML = '<span class="status-badge completed">‚úÖ COMPLETE</span>';
                        btnElement.textContent = 'REVIEW FILE';
                        btnElement.disabled = false;
                    } else if (isUnlocked) {
                        fileElement.classList.remove('locked');
                        statusElement.innerHTML = '<span class="status-badge new">AVAILABLE</span>';
                        btnElement.textContent = 'OPEN FILE';
                        btnElement.disabled = false;
                    } else {
                        fileElement.classList.add('locked');
                        statusElement.innerHTML = '<span class="status-badge locked">üîí LOCKED</span>';
                        btnElement.textContent = 'CLEARANCE REQUIRED';
                        btnElement.disabled = true;
                    }
                }
            }

            // Update final assessment
            const finalFile = document.getElementById('final-assessment-file');
            const finalBtn = document.getElementById('final-btn');
            
            if (finalFile && finalBtn) {
                if (stats.completedModules === 5) {
                    finalFile.classList.remove('locked');
                    finalBtn.textContent = 'üéØ BEGIN FINAL ASSESSMENT';
                    finalBtn.disabled = false;
                } else {
                    finalFile.classList.add('locked');
                    finalBtn.textContent = 'üîí ACCESS DENIED';
                    finalBtn.disabled = true;
                }
            }

            // Update clearance requirements
            const requirements = document.querySelectorAll('.requirement');
            requirements.forEach((req, index) => {
                const moduleNum = index + 1;
                const isCompleted = window.digitalShieldProgress.isModuleCompleted(moduleNum);
                
                if (isCompleted) {
                    req.classList.remove('incomplete');
                    req.classList.add('complete');
                    req.querySelector('.req-status').textContent = '‚úÖ';
                } else {
                    req.classList.remove('complete');
                    req.classList.add('incomplete');
                    req.querySelector('.req-status').textContent = '‚ùå';
                }
            });
        }

        // Initialize file system
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for progress.js to load
            setTimeout(() => {
                updateProgressDisplay();
            }, 100);
            
            // Start timers
            setInterval(updateSessionTimer, 1000);
            setInterval(updateTimestamp, 1000);
            updateTimestamp();
            
            console.log('Digital Shield File System loaded');
        });
    </script>
</body>
</html>

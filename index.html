<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Shield - Classified Training Files</title>
    <!-- Link to the single, consolidated stylesheet -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="file-system-page">

    <!-- Header Section -->
    <header class="classified-header">
        <div class="container">
            <div class="classification-banner">
                <span class="classification-level">CLASSIFIED</span>
                <h1>DIGITAL SHIELD TRAINING ARCHIVE</h1>
                <span class="classification-level">HILLTOP HONEY LTD</span>
            </div>
            <div class="agent-terminal">
                <div class="terminal-info">
                    <span class="terminal-prompt">AGENT:</span>
                    <span class="agent-name" id="agent-name">[CLASSIFIED]</span>
                    <span class="clearance-level">TRAINEE CLEARANCE</span>
                </div>
                <div class="progress-display">
                    <span class="progress-label">TRAINING PROGRESS:</span>
                    <span class="progress-value" id="overall-progress">0%</span>
                </div>
            </div>
        </div>
    </header>

    <!-- File Cabinet Section -->
    <section class="file-cabinet">
        <div class="container">
            <div class="cabinet-header">
                <h2 aria-hidden="true">üìÅ TRAINING DOSSIERS</h2>
                <p class="access-notice" aria-hidden="true">‚ö†Ô∏è ACCESS RESTRICTED TO AUTHORIZED PERSONNEL ONLY</p>
            </div>

            <div class="file-cabinet-grid">
                <div class="filing-drawer">
                    <div class="drawer-label">CYBERSECURITY PROTOCOLS</div>
                    <div class="file-folders">

                        <!-- File 1: Email Security -->
                        <div class="file-folder" data-module="1" id="file-1">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">001</span>
                                    <span class="classification-stamp">CONFIDENTIAL</span>
                                </div>
                                <div class="status-indicator" id="status-1">
                                    <span class="status-badge new">NEW</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon" aria-hidden="true">üìß</div>
                                <div class="file-details">
                                    <h3>EMAIL SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Interceptor</p>
                                    <p class="file-description">Classification of email-based threats and defensive countermeasures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 15 min</span>
                                        <span class="difficulty">üîí LEVEL 3</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="btn btn-primary file-btn" id="btn-1">OPEN FILE</button>
                            </div>
                        </div>

                        <!-- File 2: Password Security -->
                        <div class="file-folder locked" data-module="2" id="file-2">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">002</span>
                                    <span class="classification-stamp">RESTRICTED</span>
                                </div>
                                <div class="status-indicator" id="status-2">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon" aria-hidden="true">üîê</div>
                                <div class="file-details">
                                    <h3>PASSWORD SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Vault Guardian</p>
                                    <p class="file-description">Advanced authentication and credential protection systems.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 12 min</span>
                                        <span class="difficulty">üîí LEVEL 2</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="btn btn-primary file-btn" id="btn-2" disabled>CLEARANCE REQUIRED</button>
                            </div>
                        </div>

                        <!-- File 3: Internet Security -->
                        <div class="file-folder locked" data-module="3" id="file-3">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">003</span>
                                    <span class="classification-stamp">RESTRICTED</span>
                                </div>
                                <div class="status-indicator" id="status-3">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon" aria-hidden="true">üåê</div>
                                <div class="file-details">
                                    <h3>INTERNET SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Navigator</p>
                                    <p class="file-description">Secure browsing and network protection procedures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 18 min</span>
                                        <span class="difficulty">üîí LEVEL 3</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="btn btn-primary file-btn" id="btn-3" disabled>CLEARANCE REQUIRED</button>
                            </div>
                        </div>

                        <!-- File 4: Physical Security -->
                        <div class="file-folder locked" data-module="4" id="file-4">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">004</span>
                                    <span class="classification-stamp">CONFIDENTIAL</span>
                                </div>
                                <div class="status-indicator" id="status-4">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon" aria-hidden="true">üè¢</div>
                                <div class="file-details">
                                    <h3>PHYSICAL SECURITY PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Safehouse</p>
                                    <p class="file-description">Workspace security and information protection measures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 10 min</span>
                                        <span class="difficulty">üîí LEVEL 2</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="btn btn-primary file-btn" id="btn-4" disabled>CLEARANCE REQUIRED</button>
                            </div>
                        </div>

                        <!-- File 5: GDPR -->
                        <div class="file-folder locked" data-module="5" id="file-5">
                            <div class="folder-tab">
                                <div class="tab-info">
                                    <span class="file-number">005</span>
                                    <span class="classification-stamp">TOP SECRET</span>
                                </div>
                                <div class="status-indicator" id="status-5">
                                    <span class="status-badge locked">üîí LOCKED</span>
                                </div>
                            </div>
                            <div class="folder-content">
                                <div class="file-icon" aria-hidden="true">üìã</div>
                                <div class="file-details">
                                    <h3>DATA PROTECTION PROTOCOLS</h3>
                                    <p class="file-subtitle">Operation: Classified Intel</p>
                                    <p class="file-description">GDPR compliance and personal data safeguarding procedures.</p>
                                    <div class="file-metadata">
                                        <span class="duration">‚è±Ô∏è 20 min</span>
                                        <span class="difficulty">üîí LEVEL 4</span>
                                    </div>
                                </div>
                            </div>
                            <div class="folder-actions">
                                <button class="btn btn-primary file-btn" id="btn-5" disabled>CLEARANCE REQUIRED</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Special Operations File (Final Assessment) -->
    <section class="special-operations">
        <div class="container">
            <div class="special-file-container">
                <div class="special-file locked" id="final-assessment-file">
                    <div class="special-header">
                        <div class="classification-stripe">
                            <span class="class-label">EYES ONLY</span>
                            <span class="class-label">FINAL ASSESSMENT</span>
                            <span class="class-label">OPERATION: DIGITAL SHIELD</span>
                        </div>
                    </div>
                    <div class="special-content">
                        <div class="special-icon" aria-hidden="true">üéØ</div>
                        <div class="special-details">
                            <h2>FINAL FIELD ASSESSMENT</h2>
                            <p class="special-subtitle">Comprehensive Security Evaluation</p>
                            <p class="special-description">Classified field simulation testing all acquired cybersecurity protocols. Access granted only upon completion of all training dossiers.</p>
                            <div class="clearance-requirements">
                                <h4><span aria-hidden="true">üìã </span>CLEARANCE REQUIREMENTS</h4>
                                <div class="requirements-list" id="clearance-requirements">
                                    <div class="requirement incomplete" data-module="1"><span class="req-status">‚ùå</span><span class="req-text">Complete Email Security Training</span></div>
                                    <div class="requirement incomplete" data-module="2"><span class="req-status">‚ùå</span><span class="req-text">Complete Password Security Training</span></div>
                                    <div class="requirement incomplete" data-module="3"><span class="req-status">‚ùå</span><span class="req-text">Complete Internet Security Training</span></div>
                                    <div class="requirement incomplete" data-module="4"><span class="req-status">‚ùå</span><span class="req-text">Complete Physical Security Training</span></div>
                                    <div class="requirement incomplete" data-module="5"><span class="req-status">‚ùå</span><span class="req-text">Complete Data Protection Training</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="special-actions">
                        <button class="btn btn-secondary special-btn" id="final-btn" disabled>üîí ACCESS DENIED</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Terminal Status Bar -->
    <footer class="terminal-footer">
        <div class="container">
            <div class="terminal-status">
                <div class="status-left">
                    <span class="terminal-prompt">SYSTEM STATUS:</span>
                    <span class="system-status online">ONLINE</span>
                    <span class="session-info">SESSION: <span id="session-time">00:00:00</span></span>
                </div>
                <div class="status-center">
                    <span class="files-accessed">FILES ACCESSED: <span id="files-completed">0</span>/5</span>
                    <span class="security-level">SECURITY LEVEL: TRAINEE</span>
                </div>
                <div class="status-right">
                    <button class="admin-access" title="System Administration" aria-label="Open System Administration">üîß</button>
                    <span class="timestamp" id="current-timestamp"></span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Admin Testing Panel (Hidden by default) -->
    <section class="admin-panel hidden" id="admin-panel">
        <div class="container">
            <div class="admin-terminal">
                <div class="terminal-header">
                    <span class="terminal-title">SYSTEM ADMINISTRATION CONSOLE</span>
                    <button class="terminal-close" aria-label="Close System Administration">√ó</button>
                </div>
                <div class="terminal-body">
                    <div class="admin-commands">
                        <h3>TESTING COMMANDS:</h3>
                        <div class="command-buttons">
                            <button data-command="reset" class="cmd-btn danger">RESET_ALL_PROGRESS</button>
                            <button data-command="complete" data-module="1" class="cmd-btn">COMPLETE_FILE_001</button>
                            <button data-command="complete" data-module="2" class="cmd-btn">COMPLETE_FILE_002</button>
                            <button data-command="complete" data-module="3" class="cmd-btn">COMPLETE_FILE_003</button>
                            <button data-command="complete" data-module="4" class="cmd-btn">COMPLETE_FILE_004</button>
                            <button data-command="complete" data-module="5" class="cmd-btn">COMPLETE_FILE_005</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SCRIPTS -->
    <!-- Use 'defer' to ensure scripts load without blocking the page and execute in order -->
    <script src="js/progress.js" defer></script>
    <script src="js/navigation.js" defer></script>
    <script src="js/file-system.js" defer></script>
/**
 * DEBUG SCRIPT - Add this temporarily to test button functionality
 * Add this script tag to your index.html before the closing </body> tag
 */

// Wait for DOM to be ready
document.addEventListener('DOMContentLoaded', function() {
    console.log('üîç DEBUGGING: DOM loaded, starting tests...');
    
    // Test 1: Check if progress script loaded
    if (window.digitalShieldProgress) {
        console.log('‚úÖ Progress script loaded successfully');
        console.log('Progress data:', window.digitalShieldProgress);
    } else {
        console.log('‚ùå Progress script NOT loaded - this will cause button failures');
    }
    
    // Test 2: Check if file-system script loaded
    if (window.fileSystemManager || typeof fileSystemManager !== 'undefined') {
        console.log('‚úÖ File system manager loaded');
    } else {
        console.log('‚ùå File system manager NOT loaded');
    }
    
    // Test 3: Find all file buttons
    const fileButtons = document.querySelectorAll('.file-btn');
    console.log(`üîç Found ${fileButtons.length} file buttons`);
    
    fileButtons.forEach((button, index) => {
        const moduleNumber = index + 1;
        console.log(`Button ${moduleNumber}:`, {
            text: button.textContent,
            disabled: button.disabled,
            hasClickListener: button.onclick !== null
        });
    });
    
    // Test 4: Check if buttons have proper data attributes
    const fileFolders = document.querySelectorAll('.file-folder');
    console.log(`üîç Found ${fileFolders.length} file folders`);
    
    fileFolders.forEach((folder, index) => {
        const moduleNumber = index + 1;
        console.log(`Folder ${moduleNumber}:`, {
            dataModule: folder.dataset.module,
            hasLockClass: folder.classList.contains('locked'),
            buttonText: folder.querySelector('.file-btn')?.textContent
        });
    });
    
    // Test 5: Add temporary click handlers to test functionality
    console.log('üîß Adding temporary click handlers...');
    
    fileButtons.forEach((button, index) => {
        const moduleNumber = index + 1;
        
        // Remove any existing listeners and add our test handler
        button.addEventListener('click', function(e) {
            e.preventDefault();
            console.log(`üñ±Ô∏è Button ${moduleNumber} clicked!`);
            
            // Check if module should be accessible
            if (window.digitalShieldProgress) {
                const isAccessible = window.digitalShieldProgress.isModuleAccessible ? 
                    window.digitalShieldProgress.isModuleAccessible(moduleNumber) : 
                    moduleNumber === 1; // Default: only module 1 accessible
                
                if (isAccessible) {
                    console.log(`‚úÖ Module ${moduleNumber} is accessible - would navigate to module${moduleNumber}.html`);
                    // For testing, just show alert instead of navigating
                    alert(`Would open Module ${moduleNumber}: ${button.closest('.file-folder').querySelector('h3').textContent}`);
                } else {
                    console.log(`‚ùå Module ${moduleNumber} is locked`);
                    alert('üîí ACCESS DENIED\n\nClearance level insufficient. Complete prerequisite training files to gain access.');
                }
            } else {
                console.log(`‚ö†Ô∏è Progress system not available - allowing access to Module ${moduleNumber}`);
                alert(`Progress system not loaded. Would open Module ${moduleNumber}.`);
            }
        });
    });
    
    // Test 6: Check admin panel functionality
    const adminButton = document.querySelector('.admin-access');
    if (adminButton) {
        console.log('‚úÖ Admin button found');
        adminButton.addEventListener('click', function() {
            console.log('üîß Admin panel toggled');
            const adminPanel = document.getElementById('admin-panel');
            if (adminPanel) {
                adminPanel.classList.toggle('hidden');
            }
        });
    } else {
        console.log('‚ùå Admin button not found');
    }
    
    // Test 7: Test progress update
    setTimeout(() => {
        console.log('üîÑ Testing progress update...');
        if (window.digitalShieldProgress && window.digitalShieldProgress.updateDisplay) {
            window.digitalShieldProgress.updateDisplay();
            console.log('‚úÖ Progress display updated');
        } else {
            console.log('‚ùå Cannot update progress display');
        }
    }, 1000);
    
    console.log('üèÅ Debug tests completed. Check console for results.');
});

// Additional helper functions for manual testing
window.debugHelpers = {
    testModule: function(moduleNumber) {
        console.log(`üß™ Testing module ${moduleNumber} accessibility...`);
        if (window.digitalShieldProgress) {
            const accessible = window.digitalShieldProgress.isModuleAccessible ? 
                window.digitalShieldProgress.isModuleAccessible(moduleNumber) : 
                moduleNumber === 1;
            console.log(`Module ${moduleNumber} accessible:`, accessible);
            return accessible;
        }
        return false;
    },
    
    unlockModule: function(moduleNumber) {
        console.log(`üîì Manually unlocking module ${moduleNumber}...`);
        if (window.digitalShieldProgress && window.digitalShieldProgress.completeModule) {
            window.digitalShieldProgress.completeModule(moduleNumber - 1, 100);
            window.digitalShieldProgress.updateDisplay();
            console.log(`‚úÖ Module ${moduleNumber - 1} completed, module ${moduleNumber} should now be accessible`);
        } else {
            console.log('‚ùå Progress system not available');
        }
    },
    
    resetProgress: function() {
        console.log('üîÑ Resetting all progress...');
        if (window.digitalShieldProgress && window.digitalShieldProgress.resetProgress) {
            window.digitalShieldProgress.resetProgress();
            console.log('‚úÖ Progress reset');
        } else {
            localStorage.removeItem('digitalShieldProgress');
            location.reload();
        }
    }
};

console.log('üõ†Ô∏è Debug helpers loaded. Use debugHelpers.testModule(1), debugHelpers.unlockModule(2), etc.');
</body>
</html>

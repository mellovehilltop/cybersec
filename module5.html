<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4: Physical Security - Facility Guardian Training</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/modules.css">
</head>
<body class="module-page">
    <!-- Header Navigation -->
    <header class="module-header">
        <div class="container module-nav">
            <button data-action="return-home" class="btn btn-primary nav-btn back">
                <img src="images/interface/navigation-back.png" alt="" class="nav-icon"> Mission Control
            </button>
            <div class="module-info">
                <div class="module-title-section">
                    <img src="images/module4/module4-icon.png" alt="" class="module-logo">
                    <h1>MODULE 04: PHYSICAL SECURITY</h1>
                </div>
                <p class="module-subtitle">The Facility Guardian Protocol</p>
            </div>
            <div class="module-progress-nav">
                <span id="module-progress">0%</span>
            </div>
        </div>
    </header>

    <!-- Mission Briefing Section -->
    <section id="briefing-section" class="training-section active">
        <div class="container briefing-content">
            <div class="section-header">
                <img src="images/module4/security-shield-icon.png" alt="" class="section-icon">
                <h2>MISSION BRIEFING</h2>
                <p>Threat Assessment: Industrial Espionage Attempts</p>
            </div>
            <div class="threat-assessment">
                <h3><span aria-hidden="true">üö® </span>THREAT LEVEL: HIGH</h3>
                <p>Industrial spies are targeting Hilltop Honey's facilities to steal recipes, production schedules, and confidential business data through physical access breaches.</p>
            </div>
            
            <div class="mission-objectives">
                <h3><span aria-hidden="true">üéØ </span>YOUR MISSION OBJECTIVES</h3>
                <ul>
                    <li>Secure all facility access points and workstations</li>
                    <li>Identify and prevent social engineering attempts</li>
                    <li>Implement proper visitor management protocols</li>
                    <li>Protect sensitive documents and data</li>
                    <li>Report security incidents correctly</li>
                </ul>
            </div>

            <div class="training-overview">
                <h3>Training Phases</h3>
                <div class="phase-grid">
                    <!-- Added role="button" and tabindex for accessibility, and a data-action for JS -->
                    <div class="phase-card" data-action="select-phase" data-phase="1" role="button" tabindex="0">
                        <div class="phase-number">1</div>
                        <h4>Facility Security Walkthrough</h4>
                        <p>Interactive site tour identifying security hotspots</p>
                    </div>
                    <div class="phase-card" data-action="select-phase" data-phase="2" role="button" tabindex="0">
                        <div class="phase-number">2</div>
                        <h4>Visitor Management</h4>
                        <p>Handle 5 different visitor scenarios safely</p>
                    </div>
                    <div class="phase-card" data-action="select-phase" data-phase="3" role="button" tabindex="0">
                        <div class="phase-number">3</div>
                        <h4>Social Engineering Defence</h4>
                        <p>Identify and respond to manipulation attempts</p>
                    </div>
                    <div class="phase-card" data-action="select-phase" data-phase="4" role="button" tabindex="0">
                        <div class="phase-number">4</div>
                        <h4>Clean Desk Challenge</h4>
                        <p>Secure workstations and sensitive materials</p>
                    </div>
                </div>
            </div>
            
            <button data-action="start-training" class="btn btn-success">BEGIN FACILITY GUARDIAN TRAINING</button>
        </div>
    </section>

    <!-- Phase 1: Facility Walkthrough -->
    <section id="phase-1" class="training-section">
        <div class="container">
            <div class="section-header">
                <img src="images/module4/facility-icon.png" alt="" class="section-icon">
                <h2>PHASE 1: FACILITY SECURITY WALKTHROUGH</h2>
                <p>Identify security concerns across all facility areas</p>
            </div>
            
            <div class="facility-locations">
                <div class="location-selector">
                    <h3>Select Area to Inspect:</h3>
                    <div class="location-buttons">
                        <!-- Added data-action for JS event handling -->
                        <button class="location-btn active" data-action="select-location" data-location="production">Production Floor</button>
                        <button class="location-btn" data-action="select-location" data-location="warehouse">Warehouse</button>
                        <button class="location-btn" data-action="select-location" data-location="office">Office Space</button>
                        <button class="location-btn" data-action="select-location" data-location="common">Common Areas</button>
                    </div>
                </div>

                <div class="location-viewer" id="location-viewer">
                    <div class="location-image-container">
                        <img id="location-image" src="images/module4/factory-floor-bg.jpg" alt="Production Floor" class="location-background">
                    </div>
                    <div class="location-info">
                        <h4 id="location-title">Production Floor</h4>
                        <p id="location-description">Identify security concerns: unsecured equipment, unlocked cabinets, unauthorized personnel access</p>
                    </div>
                </div>
            </div>

            <div class="security-score">
                <h3>Security Assessment Progress</h3>
                <div class="score-display">
                    <span>Hotspots Found: <span id="hotspots-found">0</span> / <span id="total-hotspots">12</span></span>
                    <span>Current Score: <span id="walkthrough-score">0</span> points</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="walkthrough-progress"></div>
                </div>
            </div>

            <div id="walkthrough-feedback" class="feedback-box">
                Click on security concerns in the facility image above. Look for unsecured areas, equipment, and potential access vulnerabilities.
            </div>
            
            <button data-action="complete-phase" data-phase="1" class="btn btn-secondary" id="phase-1-btn" disabled>PHASE 1 COMPLETE</button>
        </div>
    </section>

    <!-- Other phases (2, 3, 4, assessment) are structured similarly and their JS-populated buttons will be handled by the script -->
    <section id="phase-2" class="training-section">
        <!-- Content for Phase 2 -->
    </section>
    <section id="phase-3" class="training-section">
        <!-- Content for Phase 3 -->
    </section>
    <section id="phase-4" class="training-section">
        <!-- Content for Phase 4 -->
    </section>
    <section id="assessment-phase" class="training-section">
        <!-- Content for Assessment -->
    </section>

    <!-- Achievement Modal -->
    <div id="achievement-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="achievement-title">üèÜ BADGE EARNED!</h3>
                <!-- Replaced onclick with data-action -->
                <button data-action="close-modal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="badge-display" id="badge-display">
                    <!-- Badge content populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="js/progress.js" defer></script>
    <script src="js/module4.js" defer></script>
</body>
</html>
